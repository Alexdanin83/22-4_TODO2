{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\22-4_TODO\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport io from 'socket.io-client';\nimport { v1 as uuidv1 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tasks: []\n    };\n  }\n\n  componentDidMount() {\n    this.socket = io('localhost:8000', {\n      transports: ['websocket', 'polling', 'flashsocket']\n    });\n    this.socket.on('updateData', tasks => this.updateTasks(tasks));\n    this.socket.on('addTask', task => this.addTaskTask(task));\n    this.socket.on('removeTask', id => this.removeTask(id));\n  }\n\n  removeTask(event, id) {\n    event.preventDefault();\n    const newStateTask = this.state.tasks.filter(taskId => taskId.id !== id);\n    this.socket.emit('removeTask', id);\n    this.setState({\n      tasks: newStateTask\n    });\n    console.log(this.state.tasks);\n  }\n\n  addTaskTask(task) {\n    const idTask = uuidv1();\n    let newTask = {\n      id: idTask,\n      taskName: task\n    };\n    this.setState({\n      tasks: [...this.state.tasks, newTask] //eslint-disable-line\n\n    });\n    this.socket.emit('addTask', newTask);\n  }\n\n  updateTasks(task) {\n    this.setState({\n      tasks: task\n    });\n  }\n\n  handleOnSubmit(event, task) {\n    event.preventDefault();\n\n    if (!task) {\n      alert('Wprowadź task!');\n    } else {\n      this.addTaskTask(task);\n      document.getElementById('task-name').value = '';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ToDoList.app\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"tasks-section\",\n        id: \"tasks-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"tasks-section__list\",\n          id: \"tasks-list\",\n          children: this.state.tasks.map(itemTask => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"task\",\n            children: [itemTask.taskName, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn--red\",\n              onClick: event => this.removeTask(event, itemTask.id),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, itemTask.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"add-task-form\",\n          onSubmit: event => this.handleOnSubmit(event, document.getElementById('task-name').value),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"text-input\",\n            type: \"text\",\n            placeholder: \"Type your description\",\n            id: \"task-name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["C:/projects/22-4_TODO/client/src/App.js"],"names":["React","io","v1","uuidv1","App","Component","constructor","state","tasks","componentDidMount","socket","transports","on","updateTasks","task","addTaskTask","id","removeTask","event","preventDefault","newStateTask","filter","taskId","emit","setState","console","log","idTask","newTask","taskName","handleOnSubmit","alert","document","getElementById","value","render","map","itemTask"],"mappings":"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","sourcesContent":["import React from 'react';\nimport io from 'socket.io-client';\nimport { v1 as uuidv1 } from 'uuid';\n\n\nclass App extends React.Component {\n  constructor() {\n  super();\n  this.state = {\n    tasks: [],\n  };\n}\ncomponentDidMount () {\n  this.socket = io('localhost:8000', {transports: ['websocket', 'polling', 'flashsocket']});\n  this.socket.on('updateData', (tasks) => this.updateTasks(tasks));\n  this.socket.on('addTask', (task) => this.addTaskTask(task));\n  this.socket.on('removeTask', (id) => this.removeTask(id));\n\n\n}\nremoveTask(event,id){\n  event.preventDefault();\n\n  const newStateTask = this.state.tasks.filter(taskId=>taskId.id!==id);\n\nthis.socket.emit('removeTask', id);\n    this.setState({ tasks: newStateTask });\n  console.log(this.state.tasks);\n}\naddTaskTask(task){\n  const idTask = uuidv1();\n  let newTask = {id: idTask, taskName: task};\n this.setState({\n     tasks: [...this.state.tasks, newTask], //eslint-disable-line\n   });\n\nthis.socket.emit('addTask', newTask)\n}\n\nupdateTasks(task){\n this.setState({ tasks: task });\n}\n\nhandleOnSubmit(event, task){\n    event.preventDefault();\n  if (!task) {alert('Wprowadź task!');}\n  else\n{this.addTaskTask(task);\n document.getElementById('task-name').value='';}\n}\n  render() {\n    return (\n    <div className=\"App\">\n\n      <header>\n        <h1>ToDoList.app</h1>\n      </header>\n\n      <section className=\"tasks-section\" id=\"tasks-section\">\n        <h2>Tasks</h2>\n              <ul className=\"tasks-section__list\" id=\"tasks-list\">\n          {this.state.tasks.map((itemTask)=>\n            <li className=\"task\" key={itemTask.id}>\n              {itemTask.taskName}\n                <button\n                  type=\"button\"\n                  className=\"btn btn--red\"\n                  onClick={(event) => this.removeTask(event, itemTask.id)}\n                >\n                Remove\n                </button>\n            </li>\n          )}\n</ul>\n\n        <form id=\"add-task-form\" onSubmit={(event) => this.handleOnSubmit(event, document.getElementById('task-name').value)}>\n          <input className=\"text-input\"  type=\"text\" placeholder=\"Type your description\" id=\"task-name\" />\n          <button className=\"btn\" type=\"submit\">Add</button>\n\n        </form>\n\n      </section>\n    </div>\n  );\n\n  };\n\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}