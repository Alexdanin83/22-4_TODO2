{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\22-4_TODO\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport io from 'socket.io-client';\nimport { v1 as uuidv1 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tasks: []\n    };\n  }\n\n  componentDidMount() {\n    this.socket = io('localhost:8000', {\n      transports: ['websocket', 'polling', 'flashsocket']\n    });\n    this.socket.on('updateData', tasks => this.updateTasks(tasks));\n    this.socket.on('addTask', task => this.addTaskTask(task));\n    this.socket.on('removeTask', id => this.removeTask(id));\n  }\n\n  removeTask(id) {\n    console.log(id);\n    const newStateTask = this.state.tasks.filter(taskId => taskId.id !== id);\n    this.setState({\n      tasks: newStateTask\n    });\n  }\n\n  addTaskTask(task) {\n    this.setState({\n      tasks: [...this.state.tasks, task] //eslint-disable-line\n\n    });\n  }\n\n  updateTasks(task) {\n    this.setState({\n      tasks: task\n    });\n  }\n\n  handleOnSubmit(event, task) {\n    event.preventDefault();\n\n    if (!task) {\n      alert('Wprowadź task!');\n    } else {\n      const idTask = uuidv1();\n      let newTask = {\n        id: idTask,\n        taskName: task\n      };\n      this.addTaskTask(newTask);\n      this.socket.emit('addTask', newTask);\n      document.getElementById('task-name').value = '';\n    }\n  }\n\n  handleRemoveTask(event, id) {\n    event.preventDefault();\n    this.removeTask(id);\n    this.socket.emit('removeTask', id);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ToDoList.app\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"tasks-section\",\n        id: \"tasks-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"tasks-section__list\",\n          id: \"tasks-list\",\n          children: this.state.tasks.map(itemTask => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"task\",\n            children: [itemTask.taskName, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn--red\",\n              onClick: event => this.handleRemoveTask(event, itemTask.id),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, itemTask.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"add-task-form\",\n          onSubmit: event => this.handleOnSubmit(event, document.getElementById('task-name').value),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"text-input\",\n            type: \"text\",\n            placeholder: \"Type your description\",\n            id: \"task-name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["C:/projects/22-4_TODO/client/src/App.js"],"names":["React","io","v1","uuidv1","App","Component","constructor","state","tasks","componentDidMount","socket","transports","on","updateTasks","task","addTaskTask","id","removeTask","console","log","newStateTask","filter","taskId","setState","handleOnSubmit","event","preventDefault","alert","idTask","newTask","taskName","emit","document","getElementById","value","handleRemoveTask","render","map","itemTask"],"mappings":"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","sourcesContent":["import React from 'react';\nimport io from 'socket.io-client';\nimport { v1 as uuidv1 } from 'uuid';\n\n\nclass App extends React.Component {\n  constructor() {\n  super();\n  this.state = {\n    tasks: [],\n  };\n}\n\ncomponentDidMount () {\n  this.socket = io('localhost:8000', {transports: ['websocket', 'polling', 'flashsocket']});\n  this.socket.on('updateData', (tasks) => this.updateTasks(tasks));\n  this.socket.on('addTask', (task) => this.addTaskTask(task));\n  this.socket.on('removeTask', (id) => this.removeTask(id));\n}\nremoveTask(id){\n  console.log(id);\n  const newStateTask = this.state.tasks.filter(taskId=>taskId.id!==id);\n  this.setState({ tasks: newStateTask });\n}\naddTaskTask(task){\n this.setState({\n  tasks: [...this.state.tasks, task], //eslint-disable-line\n});\n}\n\nupdateTasks(task){\n this.setState({ tasks: task });\n}\n\nhandleOnSubmit(event, task){\n  event.preventDefault();\n  if (!task) {\n    alert('Wprowadź task!');\n  }\n  else\n {\n  const idTask = uuidv1();\n  let newTask = {id: idTask, taskName: task};\n  this.addTaskTask(newTask);\n  this.socket.emit('addTask', newTask);\n  document.getElementById('task-name').value='';}\n}\nhandleRemoveTask(event,id){\n  event.preventDefault();\n  this.removeTask(id);\n  this.socket.emit('removeTask', id);\n}\n  render() {\n    return (\n    <div className=\"App\">\n      <header>\n        <h1>ToDoList.app</h1>\n      </header>\n      <section className=\"tasks-section\" id=\"tasks-section\">\n        <h2>Tasks</h2>\n              <ul className=\"tasks-section__list\" id=\"tasks-list\">\n          {this.state.tasks.map((itemTask)=>\n            <li className=\"task\" key={itemTask.id}>\n              {itemTask.taskName}\n                <button\n                  type=\"button\"\n                  className=\"btn btn--red\"\n                  onClick={(event) => this.handleRemoveTask(event, itemTask.id)}\n                >\n                Remove\n                </button>\n            </li>\n          )}\n</ul>\n\n        <form id=\"add-task-form\" onSubmit={(event) => this.handleOnSubmit(event, document.getElementById('task-name').value)}>\n          <input className=\"text-input\"  type=\"text\" placeholder=\"Type your description\" id=\"task-name\" />\n          <button className=\"btn\" type=\"submit\">Add</button>\n\n        </form>\n\n      </section>\n    </div>\n  );\n  };\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}